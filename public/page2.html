<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>View all documents</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/10.7.1/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/10.7.1/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/10.7.1/firebase-performance-compat.js"></script>
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>

   <link rel="stylesheet" type="text/css" href="css/style.css">

    </style>
  </head>
  <body>


     <header></header>
  <main class="info-page">

    <div class="info">
      <div class="info__body">
        <div class="info__left">
          <div class="menu-block box">
            <div class="menu-block__head">
              <h1 class="menu-block__title">–í—Ö–æ–¥—è—â–∏–µ –ø–æ –Ω–æ–º–µ—Ä—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</h1>
            </div>

            <div class="menu-block__search">
              <input type="text" class="form-control" id="search" name="search" placeholder="–ü–æ–∏—Å–∫" />
            </div>


            <div class="menu-block__radio">
              <div class="radio-item">
                <input type="radio" id="all" name="filter" value="all" checked />
                  <label for="all">–í—Å–µ <span id="all_count"></span></label>
              </div>
              <div class="radio-item">
                <input type="radio" id="notcontrol" name="filter" value="notcontrol"  />
                  <label for="notcontrol">–ù–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–µ</label>
              </div>
              <div class="radio-item">
                <input type="radio" id="checkcontrol" name="filter" value="checkcontrol"  />
                  <label for="checkcontrol">–°–Ω—è—Ç—ã–µ —Å –∫–æ–Ω—Ç—Ä–æ–ª—è</label>
              </div>
              <div class="radio-item">
                <input type="radio" id="oncontrol" name="filter" value="oncontrol"  />
                  <label for="oncontrol">–ù–∞ –∫–æ–Ω—Ç—Ä–æ–ª–µ</label>
              </div>
            </div>


            <div class="menu-block__list" id="menu-block__list">
            </div>

          </div>
        </div>

        <div class="info__right">
          <div class="info-block" id="info-block">
          
          </div>
        </div>
      </div>
      
    </div>
    
  </main>



  <!-- HTML –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close" >&times;</span>







           

    <form id="editForm">

        <button class="cancel-button btn" style="float:right;" id="saveButton"><i class="fa fa-save"></i>–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>

       <div class="check-item">
              <input type="checkbox" id="check_important" name="" />
              <label for="">–û—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ–µ –ø–∏—Å—å–º–æ</label>
            </div>

            <div class="check-item">
              <input type="checkbox" id="check_control" name="" />
              <label for="">–°–Ω—è—Ç–æ —Å –∫–æ–Ω—Ç—Ä–æ–ª—è</label>
            </div>
             <div class="check-item">
                <input type="checkbox" id="check_notcontrol" name="" />
                <label for="">–ù–µ–∫–æ–Ω—Ç—Ä–æ–ª—å–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç</label>
              </div>

              <div class="check-item">
                <input type="checkbox" id="check_paper" name="" />
                <label for="">–ü–µ—Ä–µ–¥–∞–Ω –≤ –±—É–º–∞–∂–Ω–æ–º –≤–∏–¥–µ</label>
              </div>

              <div class="check-item">
                <input type="checkbox" id="check_foruse" name="" />
                <label for="foruse">–î–ª—è —Å–ª—É–∂–µ–±–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</label>
              </div>

              <div class="check-item">
                <input type="checkbox" id="check_dir" name="" />
                <label for="">–î–∏—Ä–û–†–î</label>
              </div>
              <div class="check-item">
                <input type="checkbox" id="check_corres" name="" />
                <label for="">–í–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –∫–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ü–∏—è</label>
              </div>
              <div class="check-item">
                <input type="checkbox" id="check_answer" name="" />
                <label for="">–û—Ç–≤–µ—Ç –Ω–∞ –∏—Å—Ö–æ–¥—è—â–∏–π</label>
              </div>




              <div class="field-item">
              <label for="">–¢–µ–º–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞:<span class="star">*</span></label>
              <div class="input-group mb-3">

                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-pencil-square-o"></i></span>
                </div>
                  <input type="text" class="form-control" id="fieldTheme" name=""  >
              </div>
            </div>



            <div class="field-item">
                  <label for="">–í—Ö–æ–¥—è—â–∏–π ‚Ññ:</label>
                  <div class="input-group mb-3">

                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1"><i class="fa fa-pencil-square-o"></i></span>
                  </div>
                    <input type="text" class="form-control" id="field_incomingNumber" name=""  >
                  </div>
                </div>

                 <div class="field-item">
                  <label for="">–î–∞—Ç–∞ –≤—Ö–æ–¥—è—â–µ–≥–æ:</label>
                  <div class="input-group mb-3">

                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1"><i class="fa fa-calendar"></i></span>
                  </div>
                    <input type="date" class="form-control" id="field_incomingDate" name=""  >
                  </div>
                </div>


                        <div class="field-item">
                  <label for="">–ò—Å—Ö–æ–¥—è—â–∏–π ‚Ññ:</label>
                  <div class="input-group mb-3">

                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1"><i class="fa fa-pencil-square-o"></i></span>
                  </div>
                    <input type="text" class="form-control" id="field_outcomingNumber" name=""  >
                  </div>
                </div>

                                <div class="field-item">
                  <label for="">–î–∞—Ç–∞ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ:</label>
                  <div class="input-group mb-3">

                  <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1"><i class="fa fa-calendar"></i></span>
                  </div>
                    <input type="date" class="form-control" id="field_outcomingDate" name=""  >
                  </div>
                </div>


            <div class="field-item">
              <label for="">–í–∏–¥ –¥–æ—Å—Ç–∞–≤–∫–∏:</label>
              <div class="input-group mb-3">

                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-pencil-square-o"></i></span>
                </div>
                  <input type="text" class="form-control" id="field_deliveryType" name=""  >
              </div>
            </div>

                           <div class="field-item">
              <label for="">–ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç:<span class="star">*</span></label>
              <div class="input-group mb-3">

                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-caret-down"></i></span>
                </div>

                 <select id="field_correspondentDropdown" class="form-control">
    <option value="value1">–ó–Ω–∞—á–µ–Ω–∏–µ 1</option>
    <option value="value2">–ó–Ω–∞—á–µ–Ω–∏–µ 2</option>
    <!-- –î–æ–±–∞–≤—å—Ç–µ –¥—Ä—É–≥–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –≤—ã–±–æ—Ä–∞ –∑–¥–µ—Å—å -->
  </select>
              </div>
            </div>


             <div class="field-item">
              <label for="">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:<span class="star">*</span></label>
              <div class="input-group mb-3">

                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-pencil-square-o"></i></span>
                </div>
                  <input type="text" class="form-control" id="field_executor" name=""  >
              </div>
            </div>

             <div class="field-item">
              <label for="">–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:<span class="star">*</span></label>
              <div class="input-group mb-3">

                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1"><i class="fa fa-pencil-square-o"></i></span>
                </div>
                  <input type="text" class="form-control" id="field_subdivision" name=""  >
              </div>
            </div>
  

      

    </form>
  </div>
</div>







  <script>




       document.addEventListener('DOMContentLoaded', function() {
        const loadEl = document.querySelector('#load');


        // // üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•
        // // The Firebase SDK is initialized and available here!
        
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.firestore().doc('/foo/bar').get().then(() => { });
        // firebase.functions().httpsCallable('yourFunction')().then(() => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        // firebase.analytics(); // call to activate
        // firebase.analytics().logEvent('tutorial_completed');
        // firebase.performance(); // call to activate
        
        // // üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•üî•

  const dataRef = firebase.database().ref('/realsoft/incomingDocuments');
   const container = document.getElementById('menu-block__list');
    let currentFilter = 'all';
    let numNotControl = 0;
    const all = 0;

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Å —É—á–µ—Ç–æ–º —Ç–µ–∫—É—â–µ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –∏ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
function displayData(filter, searchTerm) {
  container.innerHTML = ''; // –û—á–∏—Å—Ç–∏–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

  dataRef.once('value', snapshot => {
    snapshot.forEach(childSnapshot => {
      const info = childSnapshot.val();

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å–ª–æ–≤–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –≤—ã–±–æ—Ä–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–æ–∏—Å–∫–æ–º
      if (
        (filter === 'notcontrol' && info.notcontrol === true) ||
        (filter === 'oncontrol' && info.control === false) ||
        (filter === 'checkcontrol' && info.control === true) ||
        filter === 'all'
      ) {
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —Å–æ–¥–µ—Ä–∂–∏—Ç –ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ incomingNumber –ø–æ–∏—Å–∫–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å, –µ—Å–ª–∏ –æ–Ω –∑–∞–¥–∞–Ω
        const matchesSearch = !searchTerm || info.incomingNumber.includes(searchTerm);

        if (matchesSearch) {
          let imageName = info.control === false ? 'red.png' : 'green.png';

          const objectInfo = `
            <div class="list-item" data-key="${childSnapshot.key}">
              <div class="list-item__icon">
                <img src="img/${imageName}">
              </div>
              <div class="list-item__text">
                <p>–†–µ–≥. –Ω–æ–º–µ—Ä: ${info.incomingNumber}</p>
                <p>${info.incomingDate}</p>
                <p>${info.documentTopic}</p>
                <p>${info.correspondentDropdown}</p>
              </div> 
            </div>
          `;
          container.insertAdjacentHTML('beforeend', objectInfo);



        }
      }



          // –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —Å –∫–ª–∞—Å—Å–æ–º '.list-item'
const listItems = document.querySelectorAll('.list-item');

// –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç '.list-item'
listItems.forEach(item => {
  item.addEventListener('click', event => {
    // –£–¥–∞–ª—è–µ–º –∫–ª–∞—Å—Å 'selected' —É –≤—Å–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    listItems.forEach(el => el.classList.remove('selected'));
    // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å 'selected' —Ç–æ–ª—å–∫–æ –Ω–∞ —Ç–µ–∫—É—â–∏–π —ç–ª–µ–º–µ–Ω—Ç
    item.classList.add('selected');
  });
});





          document.querySelectorAll('.list-item').forEach(item => {
  item.addEventListener('click', event => {
    const selectedItemKey = item.getAttribute('data-key'); // –ü–æ–ª—É—á–∞–µ–º –∫–ª—é—á –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞ –∏–∑ data-–∞—Ç—Ä–∏–±—É—Ç–∞

    const selectedItemRef = firebase.database().ref(`/realsoft/incomingDocuments/${selectedItemKey}`);

    selectedItemRef.once('value')
      .then(snapshot => {
        const selectedItemInfo = snapshot.val();
        const objectInfoContainer = document.getElementById('info-block');





       const htmlContent =`
      <div class="info__header box">
              <div class="buttons">
                <button class="cancel-button btn"><i class="fa fa-check"></i>–û–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è</button>
                <button class="cancel-button btn"><i class="fa fa-user"></i>–û—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—É—á–∞—Ç–µ–ª—é</button>
                
              </div>
              <div class="buttons">
                <button class="cancel-button btn"><i class="fa fa-arrow-circle-o-up"></i>–ò—Å—Ö–æ–¥—è—â–∏–π</button>
                <button class="cancel-button btn"><i class="fa fa-commenting-o"></i>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</button>
                <button class="cancel-button btn" id="editButton"><i class="fa fa-edit"></i>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <button class="cancel-button btn" id="deleteButton"><i class="fa fa-trash-o"></i></button>
              </div>

              
            </div>


            <div class="info__main box">

              <h1 class="text-title">–í—Ö–æ–¥—è—â–∏–π –¥–æ–∫—É–º–µ–Ω—Ç ‚Ññ ${selectedItemInfo.incomingNumber}</h1>
              <h2 class="text-title-theme">${selectedItemInfo.documentTopic}</h2>
              <div class="check-boxes hr">
                <div class="check-item">
                  <input type="checkbox" id="important_db" name="important"  ${selectedItemInfo.important ? 'checked' : ''} readonly />
                  <label for="important_db">–û—á–µ–Ω—å —Å—Ä–æ—á–Ω–æ–µ –ø–∏—Å—å–º–æ</label>
                </div>

                <div class="check-item">
                  <input type="checkbox" id="control_db" name="control"  ${selectedItemInfo.control ? 'checked' : ''} readonly />
                  <label for="control_db">–°–Ω—è—Ç–æ —Å –∫–æ–Ω—Ç—Ä–æ–ª—è</label>
                </div>
              </div>


              <div class="checks">


                <div class="check-boxes right"> 
                  <label>–°—Ä–æ–∫ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è:</label>
                  <p class="text-date">${selectedItemInfo.outcomingDate}</p>
        
                </div>
              </div>

              <hr>

              <div class="description-section">
                <div class="description-block">

                  <div class="description-block__item">
                    <h2 class="description-title">–ò—Å—Ö–æ–¥—è—â–∏–π ‚Ññ:</h2>
                    <p class="description-text">${selectedItemInfo.outcomingNumber}</p>
                  </div>
                  <hr>

                  <div class="description-block__item">
                    <h2 class="description-title">–î–∞—Ç–∞ –∏—Å—Ö–æ–¥—è—â–µ–≥–æ:</h2>
                    <p class="description-text">${selectedItemInfo.outcomingDate}</p>
                  </div>
                  <hr>

                  <div class="description-block__item">
                    <h2 class="description-title">–ö–æ—Ä—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç:</h2>
                    <p class="description-text">${selectedItemInfo.correspondentDropdown}</p>
                  </div>
                  <hr>

                  <div class="description-block__item">
                    <h2 class="description-title">–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å:</h2>
                    <p class="description-text">${selectedItemInfo.executor}</p>
                  </div>
                  <hr>
                  
                </div>
                <div class="description-block">

                  <div class="description-block__item">
                    <h2 class="description-title">–í–∏–¥ –¥–æ—Å—Ç–∞–≤–∫–∏:</h2>
                    <p class="description-text">${selectedItemInfo.deliveryType}</p>
                  </div>
                  <hr>

                  <div class="description-block__item">
                    <h2 class="description-title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π ‚Ññ:</h2>
                    <p class="description-text">${selectedItemInfo.incomingNumber}</p>
                  </div>
                  <hr>

                  <div class="description-block__item">
                    <h2 class="description-title">–î–∞—Ç–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏:</h2>
                    <p class="description-text">${selectedItemInfo.incomingDate}</p>
                  </div>
                  <hr>

                  <div class="description-block__item">
                    <h2 class="description-title">–ü–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ:</h2>
                    <p class="description-text">${selectedItemInfo.subdivision}</p>
                  </div>
                  <hr>
                  
                </div>
              </div>
              
            </div>`;

            objectInfoContainer.innerHTML = htmlContent;


            // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
const editButton = document.getElementById('editButton');
const modal = document.getElementById('myModal');


editButton.addEventListener('click', () => {
  // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
  modal.style.display = 'block';

  const keyToUpdate = item.getAttribute('data-key'); // –ö–ª—é—á –æ–±—ä–µ–∫—Ç–∞, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å
  const selectedItemRef = firebase.database().ref(`/realsoft/incomingDocuments/${keyToUpdate}`);

  selectedItemRef.once('value')
    .then(snapshot => {
      const selectedItemData = snapshot.val();
      // –ó–∞–ø–æ–ª–Ω—è–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è


      document.getElementById('check_important').checked = selectedItemData.important === true;
      document.getElementById('check_control').checked = selectedItemData.control === true;
      document.getElementById('check_notcontrol').checked = selectedItemData.notcontrol === true;
      document.getElementById('check_paper').checked = selectedItemData.paper === true;
      document.getElementById('check_foruse').checked = selectedItemData.foruse === true;
      document.getElementById('check_dir').checked = selectedItemData.dir === true;
      document.getElementById('check_corres').checked = selectedItemData.corres === true;
      document.getElementById('check_answer').checked = selectedItemData.answer === true;

      document.getElementById('fieldTheme').value = selectedItemData.documentTopic;
      document.getElementById('field_incomingNumber').value = selectedItemData.incomingNumber;
      document.getElementById('field_outcomingNumber').value = selectedItemData.outcomingNumber;
      document.getElementById('field_deliveryType').value = selectedItemData.deliveryType;
      document.getElementById('field_executor').value = selectedItemData.executor;
      document.getElementById('field_subdivision').value = selectedItemData.subdivision;
      document.getElementById('field_outcomingDate').value = selectedItemData.outcomingDate;
      document.getElementById('field_correspondentDropdown').value = selectedItemData.correspondentDropdown;
      document.getElementById('field_incomingDate').value = selectedItemData.incomingDate;
     
    })
    .catch(error => {
      console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
    });

const saveButton = document.getElementById('saveButton');
  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"
  saveButton.addEventListener('click', () => {
    const updatedData = {
      important: document.getElementById('check_important').checked,
      control: document.getElementById('check_control').checked,
      notcontrol: document.getElementById('check_notcontrol').checked,
      paper: document.getElementById('check_paper').checked,
      foruse: document.getElementById('check_foruse').checked,
      dir: document.getElementById('check_dir').checked,
      corres: document.getElementById('check_corres').checked,
      answer: document.getElementById('check_answer').checked,
      documentTopic: document.getElementById('fieldTheme').value,
      incomingNumber: document.getElementById('field_incomingNumber').value,
      outcomingNumber: document.getElementById('field_outcomingNumber').value,
      deliveryType: document.getElementById('field_deliveryType').value,
      executor: document.getElementById('field_executor').value,
      subdivision: document.getElementById('field_subdivision').value,
      outcomingDate: document.getElementById('field_outcomingDate').value,
      selectedItemData: document.getElementById('field_correspondentDropdown').value,
      incomingDate: document.getElementById('field_incomingDate').value
      // ... –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–æ–ª–µ–π
    };

    selectedItemRef.update(updatedData)
      .then(() => {
        console.log('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã');
        modal.style.display = 'none'; // –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
      })
      .catch(error => {
        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö:', error);
      });
  });
});




// –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ "–∫—Ä–µ—Å—Ç–∏–∫"
const closeBtn = document.querySelector('.close');
closeBtn.addEventListener('click', () => {
  modal.style.display = 'none';
});

// –ó–∞–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –æ–∫–Ω–∞
window.addEventListener('click', (event) => {
  if (event.target === modal) {
    modal.style.display = 'none';
  }
});




    const deleteButton = document.getElementById('deleteButton');


    deleteButton.addEventListener('click', () => {
  const confirmed = confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç?');

  if (confirmed) {
    const keyToDelete = item.getAttribute('data-key');
    const listItemToDelete = document.querySelector(`.list-item[data-key="${keyToDelete}"]`);
    const databaseRef = firebase.database().ref('/realsoft/incomingDocuments');
    // –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∫–ª—é—á—É
  databaseRef.child(keyToDelete).remove()
    .then(() => {
      listItemToDelete.remove();
      console.log('–≠–ª–µ–º–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
      objectInfoContainer.innerHTML = '' ;
    })
    .catch(error => {
      console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞:', error);
    });
  } else {
    console.log('–£–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–º–µ–Ω–µ–Ω–æ');
  }
});


// deleteButton.addEventListener('click', () => {
//   const keyToDelete = item.getAttribute('data-key'); // –í–∞—à –∫–ª—é—á –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
//     const listItemToDelete = document.querySelector(`.list-item[data-key="${keyToDelete}"]`);


//   // –°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∞—à—É –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö Firebase
//   const databaseRef = firebase.database().ref('/realsoft/incomingDocuments');

//   // –£–¥–∞–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ –∫–ª—é—á—É
//   databaseRef.child(keyToDelete).remove()
//     .then(() => {
//       listItemToDelete.remove();
//       console.log('–≠–ª–µ–º–µ–Ω—Ç —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω');
//       objectInfoContainer.innerHTML = '' ;
//     })
//     .catch(error => {
//       console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ —ç–ª–µ–º–µ–Ω—Ç–∞:', error);
//     });
// });

 
      })
      .catch(error => {
        console.error('–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö:', error);
      });
  });
});





    });
  });




}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–æ–∫
document.querySelectorAll('input[type="radio"]').forEach(radio => {
  radio.addEventListener('change', event => {
    currentFilter = event.target.value; // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–∫—É—â–∏–π —Ñ–∏–ª—å—Ç—Ä
    displayData(currentFilter, searchInput.value.trim()); // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Å —É—á–µ—Ç–æ–º –Ω–æ–≤–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞ –∏ –ø–æ–∏—Å–∫–∞
  });
});

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ–±—ã—Ç–∏—è –¥–ª—è –ø–æ–ª—è –ø–æ–∏—Å–∫–∞ (input)
const searchInput = document.getElementById('search');

searchInput.addEventListener('input', () => {
  displayData(currentFilter, searchInput.value.trim()); // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –≤–≤–æ–¥–µ –ø–æ–∏—Å–∫–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
});

// –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –Ω–∞—á–∞–ª—å–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
displayData('all', ''); // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ


        try {
          let app = firebase.app();
          let features = [
            'auth', 
            'database', 
            'firestore',
            'functions',
            'messaging', 
            'storage', 
            'analytics', 
            'remoteConfig',
            'performance',
          ].filter(feature => typeof app[feature] === 'function');
          loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e) {
          console.error(e);
          loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
        }
      });




</script>

    


    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
     <script src="js/script.js" defer></script>  
    


  </body>
</html>
